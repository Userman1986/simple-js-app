let pokemonRepository=function(){let t=[];function e(){return t}function n(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){return t.height=e.height/10,t.imgUrl=e.sprites.front_default,t.types=e.types.map(function(t){return t.type.name}),t}).then(function(t){return new Promise(function(e){let n=new Image;n.onload=function(){e(t)},n.src=t.imgUrl})}).catch(function(t){console.error(t)})}return{add:function t(e){let o=document.getElementById("pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let r=document.createElement("button");r.classList.add("btn","btn-primary"),r.textContent=e.name,r.addEventListener("click",function(){(function t(e){n(e).then(function(){let t=document.getElementById("modal-name"),n=document.getElementById("modal-height"),o=document.getElementById("modal-image");t.textContent=e.name,n.textContent="Height: "+e.height,o.src=e.imgUrl,$("#modal").modal("show")})})(e)}),i.appendChild(r),o.appendChild(i)},getAll:e,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(e){e.results.forEach(function(e){var n;let o={name:e.name.charAt(0).toUpperCase()+e.name.slice(1),height:e.height,types:[],detailsUrl:e.url};"object"==typeof(n=o)&&"name"in n&&"height"in n&&"types"in n?t.push(n):console.log("pokemon is not correct")})}).catch(function(t){console.error(t)})},loadDetails:n}}();pokemonRepository.loadList().then(function(){let t=pokemonRepository.getAll();t.forEach(function(t){pokemonRepository.add(t)})}),console.log(pokemonRepository.getAll());